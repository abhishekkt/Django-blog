{% extends 'baseauth.html' %}

{% block main %}
 <div>
      <h1>Welcome</h1>
      <p>
      <ul>
      {%if user and not user.is_anonymous %}
      <h3>
      Hello {{user.get_full_name|default:user.username}} !
      <h3>
      
      <li>
      <a href= "{% url 'auth:logout' %}?next={{ request.path}} ">Logout
      </a>
      </li>
      {% else %}
      <li>
      <a href = "{% url 'social:begin' 'facebook' %} ">Login with facebook</a>
     
      </li>
      
      {% endif %}
      </ul>
      </p>
      
      <h1>Blog</h1>
      {% if blog %}
      
      {% for blog in blog %}
     <a href="{{ blog.get_absolute_url }}"> <h2><div class="title">{{ blog.title }}</div></h2>
      <hr>
      <ul>
            <div class="time">{{ blog.posted_on }}</div>
            
      </ul></a>
     
      {% endfor %}
      
      {% else %}
            <p>There are no posts.</p>
      {% endif %}

      {% if blog.object_list and blog.paginator.num_pages > 1 %}
      <div class="pagination" style="margin-top: 20px; margin-left: -20px; ">
            <span class="step-links">
                {% if blog.has_previous %}
                    <a href= "?page={{ blog.previous_page_number }}">newer entries &lt;&lt; </a>
                {% endif %}

                <span class="current">
                    &nbsp;Page {{ blog.number }} of {{ blog.paginator.num_pages }}
                </span>

                {% if blog.has_next %}
                    <a href="?page={{ blog.next_page_number }}"> &gt;&gt; older entries</a>
                {% endif %}
            </span>
        </div>
        {% endif %}

      </div>
{% endblock %}